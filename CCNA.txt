
Пинг с компа 192.168.1.1 на кома 192.168.1.2 через новый свич, при пустых ARP таблицах на компах.
- ПК1 планирует отослать пинг, зная то что адрес назначения в его сети (если не в своей сети, то он отправил бы его на мак дефолт гейтвея), когда пакет с 3г уровня спускается на второй, то комп проверяет соответствие Ip адреса и мак адреса в своей ARP таблице, но не находит соответствия, поэтому в действие вступает ARP протокол. Он буферизирует этот первый ICMP пакет, и отправляет броадкаст ARP запрос в сеть (кто с таким ip адресом, скажи свой mac). Этот ARP пакет уходит на свич. 
- Свич получает пакет, и добавляет мак адрес источника в свою mac таблицу (соответсвие мака и порта), и  рассылает полученный ARP кадр на все порты. 
- ПК2 получает кадр и добавляет данные в свою ARP таблицу и отправляет ARP ответ
- свич просто форвардит этот кадр на порт за которым находится ПК1, добавляя мак ПК2 в свою мак-таблицу
- кадр доходит до ПК1, он добавляет ip адрес ПК2 в свою ARP таблицу, ICMP пакет достается из буфера и уже имея соответсвие mac - ip в ARP таблице, формирует кадр и отправляет его на мак ПК2
- ПК2 получает кадр, декапсулирует его, видит что это пинг и отвечает на пинг

router> - user EXEC exec mode (router - its devise name) (in this mode you cant do any changes to config)

enable
router# - privileged EXEC mode (PEM)

? - to view available commands

configure terminal - global configuration mode (GCM)
router(config)
enable password CCNA - to protect priv EXEC mode with a password CCNA
Если заданы обе команды и enable password и enable secret, то password будет игнорироваться

running config - active config
startup config - конфиг при загрузке
show running-config - показать текущую конфигурация (PEM)
show startup-config

write / write memory / copy running-config startup-config - сохранить конфиг

service password-encryption

enable secret Cisco - второй метод это использование секрета
Если заданы обе команды и enable password и enable secret, то password будет игнорироваться

router(config)# do show run - частица do позвляет выполнить команду PEM в режиме GCM 

no команда - отмена команды

show mac address-table
clear mac address-table dynamic


        Назанчение ip адреса интерфейсу

show ip interface brief
По умолчанию на роутерах интерфейсы отключены

interface GigabitEthernet 0/0 - войти в режим конфигурации интерфейсов (in g0/0)
ip address 192.168.0.1 225.255.255.0
no shutdown

show interfaces status - данная команда работает только на свичах

show interfaces - показать инфу и ошибки всех интерфейсов

show interfaces g0/0 - инфа о интерфейсе и ошибки
show interfaces description
description ## to SW1 ## - чтобы внести свое описание для интерфейса

Если вы в режиме (config-if), то чтобы выйти в PEM можно не нажимать дважды exit, а один раз нажать end 

в режиме (config-if) нажать speed и выбрать скорость
speed
duplex

interface range f0/5 - 12

ping 192.168.1.1 size 10000 - указать размер пакета
ping 192.168.1.1 size 10000 df-bit - указать что нельзя фрагментировать

                Routing

show ip route
ip route адрес маска некст-хоп - чтобы задать маршрут
ip route адрес маска g0/0 - чтобы звдвть маршрут через интерфейс
или
ip route адрес маска g0/0 некст-хоп
ip route 0.0.0.0 0.0.0.0 некст-хоп - для default gateway

mac-address МАК - указать свой мак на интерфейс

                CIDR

Безклассовая адресация. Мы не используем устаревший способ деления всего адресного пространства IP4 на сети 5 классов, а делаем эти классы сами.
Это назвется subnetting

2n-2, где n-кол-во бит отведенное под хост - сколько хостов в сети
2n, где n-кол-во бит занятое дополнительно после точки под сеть - сколько возможно создать сетей


/25     2сети   126хостов
/26     4       62
/27     8       30
/28     16      14
/29     32      6
/30     64      2
/31     128     0(2)
/32     256     0(1)


FLSM - когда делишь сеть на одинакового размера сети (fix lenght)
VLSM - veriable lenght , когда делишь на неодинаковые подсети, начинать надо с большей обязательно

                        VLAN

show vlan brief
interface range g0/1 - 3
switchport mode access - по идее они и так уже являются access портами, но лучше указать это явно еще раз
switchport access vlan10
Эти команды сразу и создадут ыиланы тоже, даже если их нет 

Но чтобы создать вилан:
vlan 10
name ИМЯ_ВИЛАНА
